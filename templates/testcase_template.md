# K8S项目SWE评测用例模板

## 用例基本信息

- **用例编号**: CASE-XXX
- **用例名称**: [简短描述用例内容]
- **创建日期**: YYYY-MM-DD
- **难度等级**: [简单/中等/困难]

## 1. PR详细信息

### 1.1 PR基本信息
- **PR标题**: [PR标题]
- **PR编号**: #[PR编号]
- **作者**: [作者信息]
- **创建时间**: [时间]
- **合并时间**: [时间]
- **PR链接**: https://github.com/kubernetes/kubernetes/pull/[PR编号]

### 1.2 PR描述
```
[完整的PR描述内容，包括：
- 问题描述
- 解决方案
- 测试方法
- 相关讨论]
```

### 1.3 代码变更信息
- **文件变更数**: [数字]
- **新增行数**: [数字]
- **删除行数**: [数字]
- **主要变更文件**: [文件列表]

### 1.4 Git节点信息
- **目标Commit Hash**: [完整的commit hash]
- **Commit消息**: [commit消息]
- **父Commit**: [父commit hash]

## 2. 代码理解测试用例

### 2.1 测试目标
基于问题背景和现象描述，让AI工具识别需要修改的代码文件和函数，检验对Kubernetes项目的理解能力。

### 2.2 输入Prompt
```
[基于PR信息构造的prompt，应包含：
- 问题背景：描述具体的业务场景和技术上下文
- 问题现象：描述具体的错误表现、日志信息、异常行为
- 技术细节：涉及的核心机制、API调用、错误类型等
- 影响范围：问题对系统功能、性能、稳定性的影响

重要注意事项：
- **避免提供具体的PR号**：防止AI工具直接检索已有实现
- 避免直接给出答案信息（如文件路径、函数名、具体修改内容）
- 聚焦于问题描述，让AI工具自主分析
- 描述要具体且技术准确，便于AI工具定位问题
- 可以描述之前的"修改"或"优化"，但不要指明具体的PR编号]
```


### 2.3 参考答案
```
[提供标准答案，包括：
- 需要修改的文件列表和路径
- 涉及的主要函数/方法名称
- 具体的代码片段位置（行号范围）
- 详细的修改内容说明（被删除的代码和恢复后的代码）
- 修改的技术原理和影响分析]
```

## 3. 代码修改测试用例

### 3.1 测试目标
基于具体需求和代码片段，让AI工具进行准确的代码修改操作。

### 3.2 输入Prompt
```
[基于代码理解测试的prompt基础，补充以下信息：
- 具体回滚要求：明确说明需要移除的关键技术点
  - 如：移除DeletionTimestamp检查逻辑
  - 如：移除NotFound错误特殊处理
  - 如：移除预过滤机制
- 恢复目标：说明回滚后应该是什么样的简单处理方式
- 需要修改的文件和函数：给出文件路径和函数名称
- 修改要求：具体的代码修改目标

重要注意事项：
- **避免提供具体的PR号**：防止AI工具直接检索已有实现
- **适度详细**：在代码理解prompt基础上补充关键技术点，避免过度细化
- 重点说明需要移除什么和恢复什么，而不是详细分析每个函数
- 避免给出过于详细的代码实现，但要给出清晰的技术指向
- 可以说"之前的修改"、"之前的优化"等，但不要指明具体PR编号
- **平衡难度**：提供足够信息确保准确性，但不要让任务变得过于简单]
```


### 3.3 参考答案
```go
// 提供完整的代码修改示例
// 包括：
// 1. 被删除的原始代码片段
// 2. 恢复后的代码逻辑
// 3. 关键的技术说明
// 4. 验证方法

[代码示例]
```

---